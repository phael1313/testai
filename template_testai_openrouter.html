<!DOCTYPE html>

<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Controle de Testes - Novo Modelo de Fatura Jaguariúna</title>
<style>
        :root {
            --primary-color: #1a5da0;
            --secondary-color: #0e3b6b;
            --light-color: #f5f8fc;
            --border-color: #d1e0f0;
            --success-color: #28a745;
            --warning-color: #ffc107;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        
        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .logo {
            max-width: 250px;
            height: auto;
        }
        
        h1 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        h2 {
            color: var(--secondary-color);
            font-size: 1.4rem;
            margin: 25px 0 15px;
        }
        
        .info-section {
            margin-bottom: 25px;
        }
        
        .tester-info {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            flex: 1;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--secondary-color);
        }
        
        input[type="text"], 
        input[type="date"] {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .checklist {
            margin-bottom: 30px;
        }
        
        .checklist-item {
            display: flex;
            align-items: flex-start;
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
            transition: background-color 0.2s;
        }
        
        .checklist-item:hover {
            background-color: var(--light-color);
        }
        
        .checklist-item input[type="checkbox"] {
            margin-right: 15px;
            margin-top: 3px;
            transform: scale(1.2);
        }
        
        .checklist-item-content {
            flex: 1;
        }
        
        .checklist-item-title {
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .checklist-item-description {
            font-size: 0.9rem;
            color: #666;
        }
        
        .section-title {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 15px;
            border-radius: 4px;
            margin: 25px 0 15px;
        }
        
        .log-section {
            margin-top: 40px;
        }
        
        .log-container {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 15px;
            background-color: var(--light-color);
            margin-bottom: 15px;
        }
        
        .log-entry {
            padding: 8px 0;
            border-bottom: 1px solid #e9e9e9;
            font-size: 0.9rem;
        }
        
        .log-entry:last-child {
            border-bottom: none;
        }
        
        .log-timestamp {
            color: var(--secondary-color);
            font-weight: 600;
            margin-right: 10px;
        }
        
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.2s;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--secondary-color);
        }
        
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #5a6268;
        }
        
        .btn-success {
            background-color: #28a745;
            color: white;
        }
        
        .btn-success:hover {
            background-color: #218838;
        }
        
        .btn-danger {
            background-color: #dc3545;
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c82333;
        }
        
        .progress-container {
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 20px;
            background-color: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: var(--success-color);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            font-weight: 600;
            margin-top: 5px;
        }
        
        .status-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .status-success {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 600px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover {
            color: #333;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .logo {
                margin-bottom: 15px;
            }
            
            .tester-info {
                flex-direction: column;
                gap: 10px;
            }
            
            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>Cliente: {{nome_cliente}}&lt;br&gt;Fatura: {{numero_fatura}}&lt;br&gt;Responsável: {{responsavel}}&lt;br&gt;Data: {{data}}&lt;hr&gt;
<div class="container">
<header>
<img alt="Logo Inovamobil" class="logo" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOmk9Imh0dHA6Ly9ucy5hZG9iZS5jb20vQWRvYmVJbGx1c3RyYXRvci8xMC4wLyIgaWQ9IkNhbWFkYV8xIiBkYXRhLW5hbWU9IkNhbWFkYSAxIiB2aWV3Qm94PSIwIDAgMjYwIDY1Ij48Zz48Zz48cGF0aCBkPSJNNDQuMywyMC4xYy0zLjctLjYtNy4zLTEuNC0xMS4yLTIuMS0uNSwwLS42LS43LS4zLTEsMS4zLTEtLjIsMCwyLjMtMS44LjMtLjIuMy0uNiwwLS44LTUuNC01LjctMTIuMS03LjQtMTkuNy02LjIsMy0yLjMsNi41LTMuMiwxMC4xLTMuNCw0LjktLjMsMTEuMywyLjYsMTUuNCw1LjcuMi4xLjUuMS43LDAsMy0yLjIuNS0uMywyLjctMiwuNC0uMy45LDAsLjkuNS0uMyw0LS44LDcuNC0xLjEsMTEuMiIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjxwYXRoIGQ9Ik0zMi43LDQ5LjdjLjYtMy43LDEuNC03LjQsMi0xMS4zLDAtLjYuOC0uOCwxLjItLjMuNy45LDAtLjIsMS41LDIsLjIuMy43LjQsMSwwLDUuNS01LjYsNy0xMi40LDUuOS0yMC4xLDIuMiwzLjEsMy4xLDYuNywzLjMsMTAuNC4zLDUtMi42LDExLjctNS41LDE1LjktLjIuMi0uMi41LDAsLjgsMi4xLDMsLjQuNSwxLjgsMi43LjMuNSwwLDEuMS0uNiwxLTMuOC0uMy03LS44LTEwLjYtMS4xIiBzdHlsZT0iZmlsbDogIzFiNWVhMzsgc3Ryb2tlLXdpZHRoOiAwcHg7Ij48L3BhdGg+PHBhdGggZD0iTTQuNSwzOGMzLjUuNSw3LDEuNCwxMC43LDIuMS42LjEuOC45LjMsMS4yLS45LjcuMiwwLTEuOSwxLjUtLjMuMy0uNC43LDAsMSw1LjMsNS41LDExLjgsNy4xLDE5LjEsNS44LTIuOSwyLjMtNi4zLDMuMy05LjgsMy42LTQuOC40LTExLTIuNC0xNS01LjQtLjMtLjItLjYtLjItLjksMC0yLjcsMi0uNi41LTIuMywxLjgtLjUuNC0xLjIsMC0xLjEtLjYiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNMTUuNiw4LjFjLS41LDMuOS0xLjMsNy42LTEuOCwxMS43LDAsLjQtLjYuNi0uOS4yLTEuMS0xLjUsMCwuMi0xLjgtMi40LS4yLS4zLS42LS4zLS44LDAtNS40LDUuNy03LDEyLjYtNS43LDIwLjQtMi4zLTMuMS0zLjItNi42LTMuNS0xMC4zLS40LTUuMSwyLjQtMTEuOCw1LjMtMTYsLjEtLjIuMS0uNCwwLS42LTIuMy0zLjItLjMtLjQtMi4xLTMtLjMtLjMsMC0uOC40LS44LDMuOS4zLDcuMy43LDExLC45IiBzdHlsZT0iZmlsbDogIzFiNWVhMzsgc3Ryb2tlLXdpZHRoOiAwcHg7Ij48L3BhdGg+PC9nPjxnPjxnPjxwYXRoIGQ9Ik0xODkuMywzMXY4LjVjMCwyLjEtMS43LDMuOS0zLjksMy45di0xMS45YzAtNC4yLTItNi4zLTUuNS02LjNzLTYuNCwyLjUtNi40LDcuMXYxMS4xaC0zLjl2LTExLjljMC00LjItMi02LjMtNS41LTYuM3MtNi40LDIuNS02LjQsNy4xdjExLjFoLTMuOXYtMTcuOWMwLTIsMS42LTMuNSwzLjUtMy41aC4ydjMuMmMxLjUtMi4yLDQuMi0zLjQsNy40LTMuNHM2LDEuMyw3LjQsNGMxLjYtMi40LDQuNi00LDguMy00LDUuMiwwLDguOCwzLDguOCw5LjMiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNODYuNSwzMS40djguOWMwLDIuMy0xLjgsNC4xLTQsNC4xdi0xMi41YzAtNC40LTIuMS02LjYtNS44LTYuNi00LjIsMC02LjksMi42LTYuOSw3LjUsMCwwLDAsMTEuMSwwLDExLjctMS45LDAtMy40LDAtMy45LDAsMC0yLjQsMC0xNCwwLTE5LjUsMC0yLjQsMS42LTMuMiwzLjgtMy4yaDBzMCwzLjUsMCwzLjVjMS42LTIuMyw0LjQtMy42LDcuOS0zLjYsNS4zLDAsOSwzLjIsOSw5LjgiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNODkuMSwzM2MwLTYuNyw0LjgtMTEuNCwxMS40LTExLjQsNi41LDAsMTEuMyw0LjcsMTEuMywxMS40LDAsNi43LTQuOCwxMS40LTExLjMsMTEuNC02LjUsMC0xMS4zLTQuOC0xMS4zLTExLjRNMTA3LjcsMzNjMC00LjgtMy4xLTcuOC03LjMtNy45LTQuMiwwLTcuNCwzLjEtNy40LDcuOCwwLDQuOCwzLjEsNy45LDcuMyw3LjksNC4yLDAsNy4zLTMuMSw3LjMtNy45IiBzdHlsZT0iZmlsbDogIzFiNWVhMzsgc3Ryb2tlLXdpZHRoOiAwcHg7Ij48L3BhdGg+PHBhdGggZD0iTTEzMy45LDIxLjdsLTguOCwyMC45Yy0uNSwxLjItMS42LDEuOS0yLjgsMS45LTEuMiwwLTIuMy0uOC0yLjgtMS45bC04LjctMjFoNC4xczcuNCwxOC40LDcuNCwxOC40bDcuNy0xOC4zaDMuOVoiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNMTUwLjUsMzEuMXMwLDkuNSwwLDExLjdjMCwuMy0uMi41LS41LjUtMS4yLDAtMi4zLDAtMi44LDAtLjMsMC0uNS0uMi0uNS0uNSwwLS40LS41LS42LS44LS4zLTEuMywxLjEtMy42LDIuMS02LjQsMi4xLTQuOSwwLTgtMi43LTgtNi42LDAtMy42LDIuMy02LjYsOC44LTYuNSwwLDAsNC40LjIsNS45LS4zLjIsMCwuMy0uMi4zLS40aDBjMC0zLjUtMS45LTUuNS01LjgtNS41LTMuNywwLTUuOSwxLjYtNS45LDEuNiwxLjEtMi43LDEtMi42LDEuNy00LjQsMS42LS41LDMuNC0uOCw1LjMtLjcsNC45LjIsOC43LDQuNCw4LjcsOS40TTE0Ni41LDM0LjlzMC0uOSwwLTFjLS43LjQtNi4xLjQtNi4xLjQtMy45LDAtNSwxLjYtNSwzLjUsMCwyLjIsMS44LDMuNiw0LjgsMy43aDBjMy40LDAsNi4yLTMsNi4yLTYuNSIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjxwYXRoIGQ9Ik0yNDIuOSwxNS4xYzAtMS4yLjktMi4xLDIuMS0yLjEsMS4zLDAsMi4xLjksMi4xLDIsMCwxLjItLjksMi4xLTIuMSwyLjEtMS4zLDAtMi4xLS45LTIuMS0yLjEiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNNjIuMiw0NC41aDBjLTIuMywwLTQuMS0xLjgtNC4xLTQuMVYxM2MyLjMsMCw0LjEsMS44LDQuMSw0LjF2MjcuNFoiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNMjQ3LjEsNDQuNWgwYy0yLjMsMC00LjEtMS44LTQuMS00LjF2LTE4LjljMi4zLDAsNC4xLDEuOCw0LjEsNC4xdjE4LjlaIiBzdHlsZT0iZmlsbDogIzFiNWVhMzsgc3Ryb2tlLXdpZHRoOiAwcHg7Ij48L3BhdGg+PHBhdGggZD0iTTE5MS43LDMzLjFjMC02LjcsNC45LTExLjQsMTEuNi0xMS40czExLjUsNC43LDExLjUsMTEuNC00LjksMTEuNS0xMS41LDExLjUtMTEuNi00LjgtMTEuNi0xMS41TTIxMC43LDMzLjFjMC00LjgtMy4yLTcuOS03LjUtNy45cy03LjUsMy4xLTcuNSw3LjksMy4yLDcuOSw3LjUsNy45LDcuNS0zLjEsNy41LTcuOSIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjxwYXRoIGQ9Ik0yNDAuNCwzMy4xYzAsNi44LTQuNywxMS40LTExLjIsMTEuNHMtNS4xLS41LTcuMS0yLjFjLS4zLS4zLS44LDAtLjguNHMtLjIuNS0uNS41aC0yLjljLS4zLDAtLjUtLjItLjUtLjVWMTMuNWMwLS4zLjItLjUuNS0uNWgzYy4zLDAsLjUuMi41LjV2MTAuNWMwLC40LjUuNy44LjQsMS44LTEuOCw0LjItMi43LDYuOS0yLjcsNi41LDAsMTEuMiw0LjYsMTEuMiwxMS41TTIzNi4zLDMzLjFjMC00LjgtMy4yLTcuOC03LjUtNy44cy03LjUsMy4xLTcuNSw3LjgsMy4yLDcuOSw3LjUsNy45LDcuNS0zLjEsNy41LTcuOSIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjwvZz48cGF0aCBkPSJNMjU1LjksNDAuM2MtLjUsMC0xLS40LTEtMXYtMjIuMmMwLTIuMy0xLjgtNC4xLTQuMS00LjF2MjcuNGMwLDIuMywxLjgsNC4xLDQuMSw0LjFoMHMwLDAsMCwwLDAsMCwwLDBoMGMyLjIsMCw0LTEuOCw0LTQuMXYtLjJoLTMuMVoiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48L2c+PC9nPjxnIHN0eWxlPSJpc29sYXRpb246IGlzb2xhdGU7Ij48cGF0aCBkPSJNNjAuNiw0OS4yaC0zLjJ2LTEuMmg3Ljd2MS4yaC0zLjJ2OC4xaC0xLjN2LTguMVoiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNNzIsNTQuMmgtNS43Yy4yLDEuMiwxLjIsMi4xLDIuNSwyLjFzMS41LS4zLDItLjhsLjcuOGMtLjYuNy0xLjYsMS4xLTIuOCwxLjEtMi4zLDAtMy44LTEuNS0zLjgtMy42czEuNS0zLjYsMy41LTMuNiwzLjUsMS41LDMuNSwzLjYsMCwuMywwLC40Wk02Ni4zLDUzLjNoNC41Yy0uMS0xLjItMS0yLTIuMy0ycy0yLjEuOC0yLjMsMloiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNNzMuMSw1My44YzAtMi4xLDEuNS0zLjYsMy43LTMuNnMyLjMuNSwyLjksMS41bC0xLC42Yy0uNS0uNy0xLjEtMS0xLjktMS0xLjQsMC0yLjQsMS0yLjQsMi41czEsMi41LDIuNCwyLjUsMS41LS4zLDEuOS0xbDEsLjZjLS42LDEtMS42LDEuNS0yLjksMS41LTIuMiwwLTMuNy0xLjUtMy43LTMuNloiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNODgsNTMuM3Y0aC0xLjN2LTMuOWMwLTEuNC0uNy0yLjEtMS45LTIuMXMtMi4yLjgtMi4yLDIuM3YzLjZoLTEuM3YtN2gxLjJ2MS4xYy41LS43LDEuNC0xLjEsMi41LTEuMSwxLjcsMCwyLjksMSwyLjksM1oiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNODkuNyw1My44YzAtMi4xLDEuNS0zLjYsMy43LTMuNnMzLjYsMS41LDMuNiwzLjYtMS41LDMuNi0zLjYsMy42LTMuNy0xLjUtMy43LTMuNlpNOTUuNyw1My44YzAtMS41LTEtMi41LTIuNC0yLjVzLTIuNCwxLTIuNCwyLjUsMSwyLjUsMi40LDIuNSwyLjQtMSwyLjQtMi41WiIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjxwYXRoIGQ9Ik05OC44LDQ3LjVoMS4zdjkuOGgtMS4zdi05LjhaIiBzdHlsZT0iZmlsbDogIzFiNWVhMzsgc3Ryb2tlLXdpZHRoOiAwcHg7Ij48L3BhdGg+PHBhdGggZD0iTTEwMS44LDUzLjhjMC0yLjEsMS41LTMuNiwzLjctMy42czMuNiwxLjUsMy42LDMuNi0xLjUsMy42LTMuNiwzLjYtMy43LTEuNS0zLjctMy42Wk0xMDcuOCw1My44YzAtMS41LTEtMi41LTIuNC0yLjVzLTIuNCwxLTIuNCwyLjUsMSwyLjUsMi40LDIuNSwyLjQtMSwyLjQtMi41WiIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjxwYXRoIGQ9Ik0xMTcuNiw1MC4zdjYuMWMwLDIuNS0xLjMsMy42LTMuNiwzLjZzLTIuNi0uNC0zLjQtMWwuNi0xYy42LjYsMS43LjksMi43LjksMS43LDAsMi40LS44LDIuNC0yLjR2LS42Yy0uNi43LTEuNSwxLjEtMi41LDEuMS0yLDAtMy42LTEuNC0zLjYtMy40czEuNS0zLjQsMy42LTMuNCwyLC40LDIuNiwxLjJ2LTEuMWgxLjJaTTExNi40LDUzLjZjMC0xLjQtMS0yLjMtMi40LTIuM3MtMi40LjktMi40LDIuMywxLDIuMywyLjQsMi4zLDIuNC0uOSwyLjQtMi4zWiIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjxwYXRoIGQ9Ik0xMTkuOCw0OC4xYzAtLjUuNC0uOC45LS44cy45LjQuOS44LS40LjgtLjkuOC0uOS0uNC0uOS0uOFpNMTIwLDUwLjNoMS4zdjdoLTEuM3YtN1oiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNMTI5LjMsNTMuMXY0LjJoLTEuMnYtLjljLS40LjYtMS4yLDEtMi4zLDEtMS42LDAtMi42LS44LTIuNi0yLjFzLjctMi4xLDIuOC0yLjFoMnYtLjNjMC0xLjEtLjYtMS43LTEuOS0xLjdzLTEuNy4zLTIuMi44bC0uNS0xYy43LS42LDEuOC0uOSwyLjktLjksMS45LDAsMywuOSwzLDIuOFpNMTI4LDU1LjJ2LTFoLTJjLTEuMywwLTEuNi41LTEuNiwxLjFzLjYsMS4xLDEuNSwxLjEsMS43LS40LDItMS4yWiIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjxwYXRoIGQ9Ik0xNDEuOCw1MC4zdjkuNmgtMS4zdi0zLjZjLS42LjgtMS41LDEuMS0yLjUsMS4xLTIuMSwwLTMuNS0xLjQtMy41LTMuNnMxLjUtMy42LDMuNS0zLjYsMS45LjQsMi41LDEuMnYtMS4xaDEuMlpNMTQwLjYsNTMuOGMwLTEuNS0xLTIuNS0yLjQtMi41cy0yLjQsMS0yLjQsMi41LDEsMi41LDIuNCwyLjUsMi40LTEsMi40LTIuNVoiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNMTUwLjgsNTAuM3Y3aC0xLjJ2LTEuMWMtLjUuNy0xLjQsMS4xLTIuNCwxLjEtMS44LDAtMy0xLTMtMy4xdi00aDEuM3YzLjljMCwxLjQuNywyLjEsMS45LDIuMXMyLjItLjgsMi4yLTIuM3YtMy42aDEuM1oiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNMTU5LjUsNTQuMmgtNS43Yy4yLDEuMiwxLjIsMi4xLDIuNSwyLjFzMS41LS4zLDItLjhsLjcuOGMtLjYuNy0xLjYsMS4xLTIuOCwxLjEtMi4zLDAtMy44LTEuNS0zLjgtMy42czEuNS0zLjYsMy41LTMuNiwzLjUsMS41LDMuNSwzLjYsMCwuMywwLC40Wk0xNTMuOCw1My4zaDQuNWMtLjEtMS4yLTEtMi0yLjMtMnMtMi4xLjgtMi4zLDJaIiBzdHlsZT0iZmlsbDogIzFiNWVhMzsgc3Ryb2tlLXdpZHRoOiAwcHg7Ij48L3BhdGg+PHBhdGggZD0iTTE3MS42LDUwLjN2Ni4xYzAsMi41LTEuMywzLjYtMy42LDMuNnMtMi42LS40LTMuNC0xbC42LTFjLjYuNiwxLjcuOSwyLjcuOSwxLjcsMCwyLjQtLjgsMi40LTIuNHYtLjZjLS42LjctMS41LDEuMS0yLjUsMS4xLTIsMC0zLjYtMS40LTMuNi0zLjRzMS41LTMuNCwzLjYtMy40LDIsLjQsMi42LDEuMnYtMS4xaDEuMlpNMTcwLjMsNTMuNmMwLTEuNC0xLTIuMy0yLjQtMi4zcy0yLjQuOS0yLjQsMi4zLDEsMi4zLDIuNCwyLjMsMi40LS45LDIuNC0yLjNaIiBzdHlsZT0iZmlsbDogIzFiNWVhMzsgc3Ryb2tlLXdpZHRoOiAwcHg7Ij48L3BhdGg+PHBhdGggZD0iTTE4MC4zLDU0LjJoLTUuN2MuMiwxLjIsMS4yLDIuMSwyLjUsMi4xczEuNS0uMywyLS44bC43LjhjLS42LjctMS42LDEuMS0yLjgsMS4xLTIuMywwLTMuOC0xLjUtMy44LTMuNnMxLjUtMy42LDMuNS0zLjYsMy41LDEuNSwzLjUsMy42LDAsLjMsMCwuNFpNMTc0LjYsNTMuM2g0LjVjLS4xLTEuMi0xLTItMi4zLTJzLTIuMS44LTIuMywyWiIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjxwYXRoIGQ9Ik0xODUuOSw1MC4ydjEuMmMtLjEsMC0uMiwwLS4zLDAtMS40LDAtMi4yLjgtMi4yLDIuNHYzLjVoLTEuM3YtN2gxLjJ2MS4yYy41LS44LDEuMy0xLjIsMi42LTEuMloiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNMTkzLDUzLjF2NC4yaC0xLjJ2LS45Yy0uNC42LTEuMiwxLTIuMywxLTEuNiwwLTIuNi0uOC0yLjYtMi4xcy43LTIuMSwyLjgtMi4xaDJ2LS4zYzAtMS4xLS42LTEuNy0xLjktMS43cy0xLjcuMy0yLjIuOGwtLjUtMWMuNy0uNiwxLjgtLjksMi45LS45LDEuOSwwLDMsLjksMywyLjhaTTE5MS43LDU1LjJ2LTFoLTJjLTEuMywwLTEuNi41LTEuNiwxLjFzLjYsMS4xLDEuNSwxLjEsMS43LS40LDItMS4yWiIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjxwYXRoIGQ9Ik0xOTguNyw0OC4xYzAtLjUuNC0uOC45LS44cy45LjQuOS44LS40LjgtLjkuOC0uOS0uNC0uOS0uOFpNMTk4LjksNTAuM2gxLjN2N2gtMS4zdi03WiIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjxwYXRoIGQ9Ik0yMDkuMyw1My4zdjRoLTEuM3YtMy45YzAtMS40LS43LTIuMS0xLjktMi4xcy0yLjIuOC0yLjIsMi4zdjMuNmgtMS4zdi03aDEuMnYxLjFjLjUtLjcsMS40LTEuMSwyLjUtMS4xLDEuNywwLDIuOSwxLDIuOSwzWiIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjxwYXRoIGQ9Ik0yMTEsNTMuOGMwLTIuMSwxLjUtMy42LDMuNy0zLjZzMy42LDEuNSwzLjYsMy42LTEuNSwzLjYtMy42LDMuNi0zLjctMS41LTMuNy0zLjZaTTIxNyw1My44YzAtMS41LTEtMi41LTIuNC0yLjVzLTIuNCwxLTIuNCwyLjUsMSwyLjUsMi40LDIuNSwyLjQtMSwyLjQtMi41WiIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjxwYXRoIGQ9Ik0yMjYuMSw1MC4zbC0zLjEsN2gtMS4zbC0zLjEtN2gxLjNsMi40LDUuNiwyLjUtNS42aDEuMloiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48cGF0aCBkPSJNMjMyLjYsNTMuMXY0LjJoLTEuMnYtLjljLS40LjYtMS4yLDEtMi4zLDEtMS42LDAtMi42LS44LTIuNi0yLjFzLjctMi4xLDIuOC0yLjFoMnYtLjNjMC0xLjEtLjYtMS43LTEuOS0xLjdzLTEuNy4zLTIuMi44bC0uNS0xYy43LS42LDEuOC0uOSwyLjktLjksMS45LDAsMywuOSwzLDIuOFpNMjMxLjQsNTUuMnYtMWgtMmMtMS4zLDAtMS42LjUtMS42LDEuMXMuNiwxLjEsMS41LDEuMSwxLjctLjQsMi0xLjJaIiBzdHlsZT0iZmlsbDogIzFiNWVhMzsgc3Ryb2tlLXdpZHRoOiAwcHg7Ij48L3BhdGg+PHBhdGggZD0iTTI0MCw1NS4zbDEsLjZjLS42LDEtMS42LDEuNS0yLjgsMS41bC0uMi42Yy44LDAsMS4yLjUsMS4yLDEuMXMtLjYsMS4yLTEuNiwxLjItLjgsMC0xLjItLjNsLjMtLjZjLjMuMi42LjIuOS4yLjUsMCwuNy0uMi43LS41cy0uMi0uNS0uOC0uNWgtLjRsLjMtMS4yYy0xLjgtLjMtMy0xLjctMy0zLjVzMS41LTMuNiwzLjctMy42LDIuMy41LDIuOSwxLjVsLTEsLjZjLS41LS43LTEuMS0xLTEuOS0xLTEuNCwwLTIuNCwxLTIuNCwyLjVzMSwyLjUsMi40LDIuNSwxLjUtLjMsMS45LTFaIiBzdHlsZT0iZmlsbDogIzFiNWVhMzsgc3Ryb2tlLXdpZHRoOiAwcHg7Ij48L3BhdGg+PHBhdGggZD0iTTI0OC4xLDUzLjF2NC4yaC0xLjJ2LS45Yy0uNC42LTEuMiwxLTIuMywxLTEuNiwwLTIuNi0uOC0yLjYtMi4xcy43LTIuMSwyLjgtMi4xaDJ2LS4zYzAtMS4xLS42LTEuNy0xLjktMS43cy0xLjcuMy0yLjIuOGwtLjUtMWMuNy0uNiwxLjgtLjksMi45LS45LDEuOSwwLDMsLjksMywyLjhaTTI0My43LDQ5LjJoLS43YzAtMSwuNS0xLjYsMS4zLTEuNnMxLjMuOSwxLjguOS42LS4zLjctLjhoLjdjMCwuOS0uNSwxLjYtMS4zLDEuNnMtMS4zLS45LTEuOC0uOS0uNi4zLS43LjhaTTI0Ni45LDU1LjJ2LTFoLTJjLTEuMywwLTEuNi41LTEuNiwxLjFzLjYsMS4xLDEuNSwxLjEsMS43LS40LDItMS4yWiIgc3R5bGU9ImZpbGw6ICMxYjVlYTM7IHN0cm9rZS13aWR0aDogMHB4OyI+PC9wYXRoPjxwYXRoIGQ9Ik0yNDkuOSw1My44YzAtMi4xLDEuNS0zLjYsMy43LTMuNnMzLjYsMS41LDMuNiwzLjYtMS41LDMuNi0zLjYsMy42LTMuNy0xLjUtMy43LTMuNlpNMjU1LjksNTMuOGMwLTEuNS0xLTIuNS0yLjQtMi41cy0yLjQsMS0yLjQsMi41LDEsMi41LDIuNCwyLjUsMi40LTEsMi40LTIuNVoiIHN0eWxlPSJmaWxsOiAjMWI1ZWEzOyBzdHJva2Utd2lkdGg6IDBweDsiPjwvcGF0aD48L2c+PG1ldGFkYXRhPjwvbWV0YWRhdGE+PG1ldGFkYXRhPjwvbWV0YWRhdGE+PC9zdmc+"/>
<div>
<h1>Controle de Testes</h1>
<p>Novo Modelo de Fatura - Cliente Jaguariúna</p>
</div>
</header>
<div class="info-section">
<div class="tester-info">
<div class="form-group">
<label for="tester-name">Nome do Responsável:</label>
<input id="tester-name" placeholder="Digite seu nome" type="text"/>
</div>
<div class="form-group">
<label for="test-date">Data do Teste:</label>
<input id="test-date" type="date"/>
</div>
</div>
</div>
<div class="progress-container">
<label>Progresso dos Testes:</label>
<div class="progress-bar">
<div class="progress" id="progress-bar"></div>
</div>
<div class="progress-text" id="progress-text">0% Concluído</div>
</div>
<div class="checklist">
<h2 class="section-title">Informações do Cliente</h2>
<div class="checklist-item">
<input class="test-checkbox" id="check-1" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Nome e Código do Contribuinte</div>
<div class="checklist-item-description">Verificar se o nome e código do contribuinte estão sendo exibidos corretamente na fatura.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-2" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Endereço Completo</div>
<div class="checklist-item-description">Verificar se o endereço completo do cliente está sendo exibido corretamente.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-3" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Código do CPD</div>
<div class="checklist-item-description">Verificar se o código do CPD está sendo exibido no local correto da fatura.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-4" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Data de Vencimento</div>
<div class="checklist-item-description">Verificar se a data de vencimento está sendo exibida corretamente.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-5" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Valor Total a Pagar</div>
<div class="checklist-item-description">Verificar se o valor total a pagar está sendo exibido corretamente.</div>
</div>
</div>
<h2 class="section-title">Dados de Leitura</h2>
<div class="checklist-item">
<input class="test-checkbox" id="check-6" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Mês/Ano de Referência</div>
<div class="checklist-item-description">Verificar se o mês e ano de referência estão sendo exibidos corretamente.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-7" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Período de Consumo</div>
<div class="checklist-item-description">Verificar se o período de consumo está sendo exibido corretamente.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-8" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Categoria e Economia</div>
<div class="checklist-item-description">Verificar se a categoria e economia estão sendo exibidas corretamente.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-9" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Leitura Atual e Anterior</div>
<div class="checklist-item-description">Verificar se as leituras atual e anterior estão sendo exibidas corretamente.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-10" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Consumo Real</div>
<div class="checklist-item-description">Verificar se o consumo real está sendo exibido corretamente.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-11" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Número do Hidrômetro</div>
<div class="checklist-item-description">Verificar se o número do hidrômetro está sendo exibido corretamente.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-12" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Data da Leitura</div>
<div class="checklist-item-description">Verificar se a data da leitura (data do consumo) está sendo exibida corretamente.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-13" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Ocorrência</div>
<div class="checklist-item-description">Verificar se a ocorrência está sendo exibida corretamente.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-14" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Data da Próxima Leitura</div>
<div class="checklist-item-description">Verificar se a data da próxima leitura está sendo exibida corretamente.</div>
</div>
</div>
<h2 class="section-title">Serviços e Valores</h2>
<div class="checklist-item">
<input class="test-checkbox" id="check-15" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Descrição dos Serviços</div>
<div class="checklist-item-description">Verificar se a descrição dos serviços está sendo exibida corretamente.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-16" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Valores dos Serviços</div>
<div class="checklist-item-description">Verificar se os valores dos serviços estão sendo exibidos corretamente.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-17" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Parâmetros da Água</div>
<div class="checklist-item-description">Verificar se os parâmetros da água estão sendo exibidos corretamente.</div>
</div>
</div>
<h2 class="section-title">Informações Adicionais</h2>
<div class="checklist-item">
<input class="test-checkbox" id="check-18" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Mensagens conforme Regra Padrão</div>
<div class="checklist-item-description">Verificar se as mensagens estão sendo exibidas conforme a regra padrão (exceto mensagem geral tipo 02).</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-19" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Histórico de Consumo</div>
<div class="checklist-item-description">Verificar se o histórico de consumo dos últimos seis meses está sendo exibido corretamente.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-20" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Instruções de Pagamento</div>
<div class="checklist-item-description">Verificar se as instruções de pagamento estão sendo exibidas na mensagem geral tipo 02.</div>
</div>
</div>
<h2 class="section-title">Rodapé</h2>
<div class="checklist-item">
<input class="test-checkbox" id="check-21" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Código do Contribuinte e C.A.D</div>
<div class="checklist-item-description">Verificar se o código do contribuinte e C.A.D estão sendo exibidos corretamente no rodapé.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-22" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Mês/Ano de Referência</div>
<div class="checklist-item-description">Verificar se o mês/ano de referência está sendo exibido corretamente no rodapé.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-23" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Número do Documento</div>
<div class="checklist-item-description">Verificar se o número do documento está sendo exibido corretamente no rodapé.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-24" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Vencimento e Total da Fatura</div>
<div class="checklist-item-description">Verificar se o vencimento e total da fatura estão sendo exibidos corretamente no rodapé.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-25" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Nome e Endereço</div>
<div class="checklist-item-description">Verificar se o nome e endereço estão sendo exibidos corretamente no rodapé.</div>
</div>
</div>
<div class="checklist-item">
<input class="test-checkbox" id="check-26" type="checkbox"/>
<div class="checklist-item-content">
<div class="checklist-item-title">Código de Barras</div>
<div class="checklist-item-description">Verificar se o código de barras está sendo exibido corretamente no rodapé.</div>
</div>
</div>
</div>
<div class="log-section">
<h2>Log de Alterações</h2>
<div class="log-container" id="log-container">
<!-- Log entries will be added here dynamically -->
</div>
<div class="button-group">
<button class="btn-primary" id="save-btn">Salvar Progresso</button>
<button class="btn-secondary" id="export-btn">Exportar Relatório</button>
<button class="btn-success" id="export-html-btn">Exportar HTML com Progresso</button>
<button class="btn-success" id="export-control-report-btn">Gerar Relatório de Controle de Teste</button>
<button class="btn-warning" id="export-adjustment-report-btn">Gerar Relatório de Ajustes</button>
<button class="btn-danger" id="clear-log-btn">Limpar Log</button>
<button class="btn-danger" id="reset-btn">Reiniciar Testes</button>
</div>
</div>
</div>
<!-- Modal para exportação do HTML -->
<div class="modal" id="export-modal">
<div class="modal-content">
<span class="close">×</span>
<h2>HTML Exportado com Sucesso</h2>
<p>O arquivo HTML com o progresso atual foi gerado. Clique no botão abaixo para baixar:</p>
<div style="text-align: center; margin-top: 20px;">
<a class="btn-primary" download="Controle_Testes_Fatura_Jaguariuna.html" href="#" id="download-link" style="text-decoration: none; padding: 10px 20px;">Baixar HTML</a>
</div>
</div>
</div>
<script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date as default
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('test-date').value = today;
            
            // Initialize variables
            const checkboxes = document.querySelectorAll('.test-checkbox');
            const logContainer = document.getElementById('log-container');
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const saveBtn = document.getElementById('save-btn');
            const exportBtn = document.getElementById('export-btn');
            const exportHtmlBtn = document.getElementById('export-html-btn');
            const exportControlReportBtn = document.getElementById('export-control-report-btn');
            const exportAdjustmentReportBtn = document.getElementById('export-adjustment-report-btn');
            const clearLogBtn = document.getElementById('clear-log-btn');
            const resetBtn = document.getElementById('reset-btn');
            const testerNameInput = document.getElementById('tester-name');
            const modal = document.getElementById('export-modal');
            const closeModal = document.querySelector('.close');
            const downloadLink = document.getElementById('download-link');
            
            // Verificar se é um novo arquivo (não carregado anteriormente)
            const isNewFile = !localStorage.getItem('fileIdentifier');
            
            // Gerar um identificador único para este arquivo
            if (isNewFile) {
                const fileIdentifier = 'file_' + Date.now();
                localStorage.setItem('fileIdentifier', fileIdentifier);
            }
            
            // Carregar dados salvos apenas se não for um novo arquivo
            if (!isNewFile) {
                loadSavedData();
            } else {
                // Para um novo arquivo, garantir que todos os checkboxes estejam desmarcados
                checkboxes.forEach(checkbox => {
                    checkbox.checked = false;
                });
                // Limpar o log
                logContainer.innerHTML = '';
                // Atualizar o progresso
                updateProgress();
            }
            
            // Add event listeners to checkboxes
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const checkboxId = this.id;
                    const checkboxLabel = this.parentElement.querySelector('.checklist-item-title').textContent;
                    const action = this.checked ? 'marcou' : 'desmarcou';
                    
                    // Add log entry
                    addLogEntry(`${checkboxLabel} - ${action}`);
                    
                    // Update progress
                    updateProgress();
                    
                    // Save to localStorage
                    saveToLocalStorage();
                });
            });
            
            // Save button event listener
            saveBtn.addEventListener('click', function() {
                saveToLocalStorage();
                alert('Progresso salvo com sucesso!');
            });
            
            // Export button event listener
            exportBtn.addEventListener('click', function() {
                exportReport();
            });
            
            // Export HTML button event listener
            exportHtmlBtn.addEventListener('click', function() {
                exportHtmlWithProgress();
            });
            
            // Export Control Report button event listener
            exportControlReportBtn.addEventListener('click', function() {
                exportControlTestReport();
            });
            
            // Export Adjustment Report button event listener
            exportAdjustmentReportBtn.addEventListener('click', function() {
                exportAdjustmentReport();
            });
            
            // Close modal event listener
            closeModal.addEventListener('click', function() {
                modal.style.display = 'none';
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target == modal) {
                    modal.style.display = 'none';
                }
            });
            
            // Clear log button event listener
            clearLogBtn.addEventListener('click', function() {
                if (confirm('Tem certeza que deseja limpar o log de alterações?')) {
                    logContainer.innerHTML = '';
                    localStorage.removeItem('testLogEntries');
                }
            });
            
            // Reset button event listener
            resetBtn.addEventListener('click', function() {
                if (confirm('Tem certeza que deseja reiniciar todos os testes? Isso irá desmarcar todas as caixas e limpar o log.')) {
                    checkboxes.forEach(checkbox => {
                        checkbox.checked = false;
                    });
                    logContainer.innerHTML = '';
                    updateProgress();
                    localStorage.removeItem('testCheckboxes');
                    localStorage.removeItem('testLogEntries');
                    localStorage.removeItem('testerName');
                    testerNameInput.value = '';
                }
            });
            
            // Tester name input event listener
            testerNameInput.addEventListener('change', function() {
                saveToLocalStorage();
            });
            
            // Function to add log entry
            function addLogEntry(message) {
                const now = new Date();
                const timestamp = now.toLocaleString('pt-BR');
                const logEntry = document.createElement('div');
                logEntry.className = 'log-entry';
                logEntry.innerHTML = `<span class="log-timestamp">[${timestamp}]</span> ${message}`;
                logContainer.appendChild(logEntry);
                
                // Scroll to bottom of log container
                logContainer.scrollTop = logContainer.scrollHeight;
            }
            
            // Function to update progress
            function updateProgress() {
                const totalCheckboxes = checkboxes.length;
                const checkedCheckboxes = document.querySelectorAll('.test-checkbox:checked').length;
                const progressPercentage = Math.round((checkedCheckboxes / totalCheckboxes) * 100);
                
                progressBar.style.width = `${progressPercentage}%`;
                progressText.textContent = `${progressPercentage}% Concluído (${checkedCheckboxes}/${totalCheckboxes})`;
                
                // Change progress bar color based on percentage
                if (progressPercentage < 30) {
                    progressBar.style.backgroundColor = '#dc3545'; // Red
                } else if (progressPercentage < 70) {
                    progressBar.style.backgroundColor = '#ffc107'; // Yellow
                } else {
                    progressBar.style.backgroundColor = '#28a745'; // Green
                }
            }
            
            // Function to save to localStorage
            function saveToLocalStorage() {
                const fileIdentifier = localStorage.getItem('fileIdentifier');
                
                // Save checkbox states
                const checkboxStates = {};
                checkboxes.forEach(checkbox => {
                    checkboxStates[checkbox.id] = checkbox.checked;
                });
                localStorage.setItem(`testCheckboxes_${fileIdentifier}`, JSON.stringify(checkboxStates));
                
                // Save log entries
                localStorage.setItem(`testLogEntries_${fileIdentifier}`, logContainer.innerHTML);
                
                // Save tester name
                localStorage.setItem(`testerName_${fileIdentifier}`, testerNameInput.value);
            }
            
            // Function to load saved data
            function loadSavedData() {
                const fileIdentifier = localStorage.getItem('fileIdentifier');
                
                // Load checkbox states
                const savedCheckboxes = localStorage.getItem(`testCheckboxes_${fileIdentifier}`);
                if (savedCheckboxes) {
                    const checkboxStates = JSON.parse(savedCheckboxes);
                    for (const [id, checked] of Object.entries(checkboxStates)) {
                        const checkbox = document.getElementById(id);
                        if (checkbox) {
                            checkbox.checked = checked;
                        }
                    }
                }
                
                // Load log entries
                const savedLogEntries = localStorage.getItem(`testLogEntries_${fileIdentifier}`);
                if (savedLogEntries) {
                    logContainer.innerHTML = savedLogEntries;
                }
                
                // Load tester name
                const savedTesterName = localStorage.getItem(`testerName_${fileIdentifier}`);
                if (savedTesterName) {
                    testerNameInput.value = savedTesterName;
                }
                
                // Update progress
                updateProgress();
            }
            
            // Function to export report
            function exportReport() {
                const testerName = testerNameInput.value || 'Não informado';
                const testDate = document.getElementById('test-date').value || today;
                const totalCheckboxes = checkboxes.length;
                const checkedCheckboxes = document.querySelectorAll('.test-checkbox:checked').length;
                const progressPercentage = Math.round((checkedCheckboxes / totalCheckboxes) * 100);
                
                let reportContent = `
                    <html>
                    <head>
                        <title>Relatório de Testes - Novo Modelo de Fatura Jaguariúna</title>
                        <style>
                            body { font-family: Arial, sans-serif; margin: 20px; }
                            h1 { color: #1a5da0; }
                            .header { margin-bottom: 20px; }
                            .section { margin-bottom: 15px; }
                            .item { margin: 5px 0; }
                            .checked { color: green; }
                            .unchecked { color: red; }
                            .log-entry { margin: 5px 0; font-size: 0.9em; }
                            .timestamp { color: #1a5da0; font-weight: bold; }
                        </style>
                    </head>
                    <body>
                        <div class="header">
                            <h1>Relatório de Testes - Novo Modelo de Fatura Jaguariúna</h1>
                            <p><strong>Responsável:</strong> ${testerName}</p>
                            <p><strong>Data do Teste:</strong> ${testDate}</p>
                            <p><strong>Progresso:</strong> ${progressPercentage}% (${checkedCheckboxes}/${totalCheckboxes})</p>
                        </div>
                        
                        <div class="section">
                            <h2>Itens Verificados</h2>
                `;
                
                // Add checked items
                checkboxes.forEach(checkbox => {
                    const itemTitle = checkbox.parentElement.querySelector('.checklist-item-title').textContent;
                    const status = checkbox.checked ? 'checked' : 'unchecked';
                    reportContent += `<div class="item ${status}">
                        ${checkbox.checked ? '✅' : '❌'} ${itemTitle}
                    </div>`;
                });
                
                // Add log entries
                reportContent += `
                        </div>
                        
                        <div class="section">
                            <h2>Log de Alterações</h2>
                `;
                
                const logEntries = document.querySelectorAll('.log-entry');
                logEntries.forEach(entry => {
                    reportContent += `<div class="log-entry">${entry.innerHTML}</div>`;
                });
                
                reportContent += `
                        </div>
                    </body>
                    </html>
                `;
                
                // Create blob and download
                const blob = new Blob([reportContent], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `Relatorio_Testes_Fatura_Jaguariuna_${testDate}.html`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }
            
            // Function to export HTML with progress
            function exportHtmlWithProgress() {
                // Get current HTML content
                const htmlContent = document.documentElement.outerHTML;
                
                // Create blob and set download link
                const blob = new Blob([htmlContent], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                downloadLink.href = url;
                
                // Add timestamp to filename
                const timestamp = new Date().toISOString().slice(0, 10).replace(/-/g, '');
                downloadLink.download = `Controle_Testes_Fatura_Jaguariuna_${timestamp}.html`;
                
                // Show modal
                modal.style.display = 'block';
            }
            
            // Function to export Control Test Report
            function exportControlTestReport() {
                const testerName = testerNameInput.value || 'Não informado';
                const testDate = document.getElementById('test-date').value || today;
                const checkedCheckboxes = Array.from(document.querySelectorAll('.test-checkbox:checked'));
                
                if (checkedCheckboxes.length === 0) {
                    alert('Não há itens marcados para gerar o relatório de controle de teste.');
                    return;
                }
                
                let reportContent = `
                    <html>
                    <head>
                        <title>Relatório de Controle de Teste - Novo Modelo de Fatura Jaguariúna</title>
                        <style>
                            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
                            h1 { color: #1a5da0; }
                            h2 { color: #1a5da0; margin-top: 30px; }
                            .header { margin-bottom: 30px; }
                            .report-section { margin-bottom: 40px; }
                            .report-text { text-align: justify; margin-bottom: 20px; }
                            .item-list { margin-bottom: 20px; }
                            .item { margin-bottom: 10px; }
                            .item-title { font-weight: bold; color: #1a5da0; }
                        </style>
                    </head>
                    <body>
                        <div class="header">
                            <h1>Relatório de Controle de Teste</h1>
                            <p><strong>Novo Modelo de Fatura - Cliente Jaguariúna</strong></p>
                            <p><strong>Responsável:</strong> ${testerName}</p>
                            <p><strong>Data do Teste:</strong> ${testDate}</p>
                        </div>
                        
                        <div class="report-section">
                            <h2>Resumo dos Testes Realizados</h2>
                            <div class="report-text">
                                <p>Este relatório apresenta os resultados dos testes realizados no novo modelo de fatura para o cliente de Jaguariúna. 
                                Foram testados e validados um total de ${checkedCheckboxes.length} itens, conforme detalhado abaixo. 
                                Os testes foram conduzidos seguindo os requisitos especificados na documentação do projeto.</p>
                            </div>
                            
                            <h2>Itens Testados e Validados</h2>
                            <div class="report-text">
                                <p>Os seguintes itens foram testados e validados com sucesso no novo modelo de fatura:</p>
                            </div>
                            
                            <div class="item-list">
                `;
                
                // Group checked items by section
                const sections = {};
                
                checkedCheckboxes.forEach(checkbox => {
                    const itemTitle = checkbox.parentElement.querySelector('.checklist-item-title').textContent;
                    const itemDescription = checkbox.parentElement.querySelector('.checklist-item-description').textContent;
                    
                    // Find the section title (closest previous h2 with class section-title)
                    let sectionElement = checkbox.parentElement.parentElement;
                    while (sectionElement && !sectionElement.previousElementSibling?.classList.contains('section-title')) {
                        sectionElement = sectionElement.previousElementSibling;
                    }
                    
                    const sectionTitle = sectionElement ? sectionElement.previousElementSibling.textContent.trim() : 'Outros';
                    
                    if (!sections[sectionTitle]) {
                        sections[sectionTitle] = [];
                    }
                    
                    sections[sectionTitle].push({ title: itemTitle, description: itemDescription });
                });
                
                // Add sections and items to report
                for (const [sectionTitle, items] of Object.entries(sections)) {
                    reportContent += `
                        <h3>${sectionTitle}</h3>
                    `;
                    
                    items.forEach(item => {
                        reportContent += `
                            <div class="item">
                                <div class="item-title">${item.title}</div>
                                <div>${item.description}</div>
                            </div>
                        `;
                    });
                }
                
                // Add conclusion
                reportContent += `
                            </div>
                        </div>
                        
                        <div class="report-section">
                            <h2>Conclusão</h2>
                            <div class="report-text">
                                <p>Todos os itens listados acima foram testados e validados com sucesso no novo modelo de fatura para o cliente de Jaguariúna. 
                                O modelo atende aos requisitos especificados na documentação do projeto e está pronto para ser implementado em produção.</p>
                                
                                <p>Os testes foram realizados utilizando dados reais e simulados, garantindo que o modelo funcione corretamente em diferentes cenários. 
                                A formatação, posicionamento e conteúdo dos campos foram verificados e estão de acordo com as especificações.</p>
                            </div>
                        </div>
                    </body>
                    </html>
                `;
                
                // Create blob and download
                const blob = new Blob([reportContent], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `Relatorio_Controle_Teste_Fatura_Jaguariuna_${testDate}.html`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }
            
            // Function to export Adjustment Report
            function exportAdjustmentReport() {
                const testerName = testerNameInput.value || 'Não informado';
                const testDate = document.getElementById('test-date').value || today;
                const uncheckedCheckboxes = Array.from(document.querySelectorAll('.test-checkbox:not(:checked)'));
                
                if (uncheckedCheckboxes.length === 0) {
                    alert('Não há itens pendentes para gerar o relatório de ajustes de validação.');
                    return;
                }
                
                let reportContent = `
                    <html>
                    <head>
                        <title>Relatório de Ajustes de Validação - Novo Modelo de Fatura Jaguariúna</title>
                        <style>
                            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
                            h1 { color: #dc3545; }
                            h2 { color: #dc3545; margin-top: 30px; }
                            .header { margin-bottom: 30px; }
                            .report-section { margin-bottom: 40px; }
                            .report-text { text-align: justify; margin-bottom: 20px; }
                            .item-list { margin-bottom: 20px; }
                            .item { margin-bottom: 15px; padding: 10px; background-color: #fff3cd; border-left: 4px solid #ffc107; }
                            .item-title { font-weight: bold; color: #856404; }
                        </style>
                    </head>
                    <body>
                        <div class="header">
                            <h1>Relatório de Ajustes de Validação</h1>
                            <p><strong>Novo Modelo de Fatura - Cliente Jaguariúna</strong></p>
                            <p><strong>Responsável:</strong> ${testerName}</p>
                            <p><strong>Data do Teste:</strong> ${testDate}</p>
                        </div>
                        
                        <div class="report-section">
                            <h2>Itens Pendentes de Validação</h2>
                            <div class="report-text">
                                <p>Este relatório apresenta os itens que ainda precisam ser validados no novo modelo de fatura para o cliente de Jaguariúna. 
                                Foram identificados ${uncheckedCheckboxes.length} itens pendentes, conforme detalhado abaixo.</p>
                            </div>
                            
                            <div class="item-list">
                `;
                
                // Group unchecked items by section
                const sections = {};
                
                uncheckedCheckboxes.forEach(checkbox => {
                    const itemTitle = checkbox.parentElement.querySelector('.checklist-item-title').textContent;
                    const itemDescription = checkbox.parentElement.querySelector('.checklist-item-description').textContent;
                    
                    // Find the section title (closest previous h2 with class section-title)
                    let sectionElement = checkbox.parentElement.parentElement;
                    while (sectionElement && !sectionElement.previousElementSibling?.classList.contains('section-title')) {
                        sectionElement = sectionElement.previousElementSibling;
                    }
                    
                    const sectionTitle = sectionElement ? sectionElement.previousElementSibling.textContent.trim() : 'Outros';
                    
                    if (!sections[sectionTitle]) {
                        sections[sectionTitle] = [];
                    }
                    
                    sections[sectionTitle].push({ title: itemTitle, description: itemDescription });
                });
                
                // Add sections and items to report
                for (const [sectionTitle, items] of Object.entries(sections)) {
                    reportContent += `
                        <h3>${sectionTitle}</h3>
                    `;
                    
                    items.forEach(item => {
                        reportContent += `
                            <div class="item">
                                <div class="item-title">${item.title}</div>
                                <div>${item.description}</div>
                            </div>
                        `;
                    });
                }
                
                // Add next steps
                reportContent += `
                            </div>
                        </div>
                        
                        <div class="report-section">
                            <h2>Próximos Passos</h2>
                            <div class="report-text">
                                <p>Os itens listados acima precisam ser validados antes da implementação do novo modelo de fatura em produção. 
                                Recomenda-se que a equipe de desenvolvimento revise esses itens e faça os ajustes necessários.</p>
                                
                                <p>Após os ajustes, uma nova rodada de testes deve ser realizada para garantir que todos os itens estejam funcionando corretamente.</p>
                            </div>
                        </div>
                    </body>
                    </html>
                `;
                
                // Create blob and download
                const blob = new Blob([reportContent], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `Relatorio_Ajustes_Validacao_Fatura_Jaguariuna_${testDate}.html`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }
        });
    </script>
</body>
</html>
